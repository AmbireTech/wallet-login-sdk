"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@ambire/login-sdk-core"),r=require("@web3-onboard/common");exports.AmbireWalletModule=function(t){var n,o=new e.AmbireLoginSDK(t),s=[],a=function(e){void 0===e&&(e=null);try{var r;return e=null!==(r=e)&&void 0!==r?r:n,o.openLogin({chainId:parseInt(e)}),Promise.resolve(new Promise((e,r)=>{o.onLoginSuccess(r=>{s=[r.address],n="0x"+parseInt(r.chainId).toString(16),e(s)}),o.onAlreadyLoggedIn(r=>{s=[r.address],n="0x"+parseInt(r.chainId).toString(16),e(s)}),o.onRegistrationSuccess(r=>{s=[r.address],n="0x"+parseInt(r.chainId).toString(16),e(s)}),o.onActionRejected(e=>{s=[e.address],r({code:4001,message:"User rejected the request."})})}))}catch(e){return Promise.reject(e)}},i=function(e,r){try{return o.openSignMessage(e,r),Promise.resolve(new Promise((e,r)=>{o.onMsgSigned(r=>e(r.signature)),o.onMsgRejected(()=>{r({code:4001,message:"User rejected the request."})})}))}catch(e){return Promise.reject(e)}},c=function(e){try{var r=e.to.toString(),t=e.value?e.value.toString():"0x",n=e.data?e.data.toString():"0x";return o.openSendTransaction(r,t,n),Promise.resolve(new Promise((e,r)=>{o.onTxnSent(r=>e(r.hash)),o.onTxnRejected(()=>{r({code:4001,message:"User rejected the request."})})}))}catch(e){return Promise.reject(e)}};return()=>({label:"Ambire Wallet",getIcon:function(){try{return Promise.resolve(e.AmbireLogoSVG.default)}catch(e){return Promise.reject(e)}},getInterface:function(e){var{EventEmitter:t}=e;try{var u=new t,d={eth_requestAccounts:function(){try{return s.length>0?Promise.resolve(s):a()}catch(e){return Promise.reject(e)}},eth_selectAccounts:function(){try{return s.length>0?Promise.resolve(s):a()}catch(e){return Promise.reject(e)}},eth_accounts:function(){try{return Promise.resolve(s)}catch(e){return Promise.reject(e)}},eth_chainId:function(){try{return Promise.resolve(n)}catch(e){return Promise.reject(e)}},personal_sign:function(e){var{params:[r,t]}=e;return i("personal_sign",r)},eth_sign:function(e){var{params:[r,t]}=e;return i("eth_sign",t)},eth_signTypedData:function(e){var{params:[r,t]}=e;return i("eth_signTypedData",t)},eth_signTypedData_v4:function(e){var{params:[r,t]}=e;return i("eth_signTypedData_v4",t)},eth_sendTransaction:function(e){var{params:[r]}=e;try{var t=r.to.toString(),n=r.value.toString(),s=r.data?r.data.toString():"0x";return o.openSendTransaction(t,n,s),Promise.resolve(new Promise((e,r)=>{o.onTxnSent(r=>e(r.hash)),o.onTxnRejected(()=>{r({code:4001,message:"User rejected the request."})})}))}catch(e){return Promise.reject(e)}},eth_sendTransaction:function(e){var{params:[r]}=e;return c(r)},eth_signTransaction:function(e){var{params:[r]}=e;return c(r)},wallet_switchEthereumChain:function(e){var{params:[r]}=e;try{return a(r.chainId)}catch(e){return Promise.reject(e)}}},m=r.createEIP1193Provider({on:u.on.bind(u),disconnect:()=>{o.openLogout(),o.onLogoutSuccess(()=>{s=[]})}},d);return Promise.resolve({provider:m})}catch(e){return Promise.reject(e)}},platforms:["all"]})};
//# sourceMappingURL=login-sdk-web3-onboard.cjs.production.min.js.map
