"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=require("@ambire/login-sdk-core"),e=require("@web3-onboard/common");function t(n,e,t,r,o,i,a){try{var s=n[i](a),u=s.value}catch(n){return void t(n)}s.done?e(u):Promise.resolve(u).then(r,o)}function r(n){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=n.apply(e,r);function s(n){t(a,o,i,s,u,"next",n)}function u(n){t(a,o,i,s,u,"throw",n)}s(void 0)}))}}exports.AmbireWalletModule=function(t){var o=new n.AmbireLoginSDK(t),i=[],a="0x1",s=function(){var n=r((function*(){return o.openLogin({chainId:parseInt(a)}),new Promise((n,e)=>{o.onLoginSuccess(e=>{i=[e.address],a="0x"+parseInt(e.chainId).toString(16),n(i)}),o.onAlreadyLoggedIn(e=>{i=[e.address],a="0x"+parseInt(e.chainId).toString(16),n(i)}),o.onRegistrationSuccess(e=>{i=[e.address],a="0x"+parseInt(e.chainId).toString(16),n(i)}),o.onActionRejected(n=>{i=[n.address],e({code:4001,message:"User rejected the request."})})})}));return function(){return n.apply(this,arguments)}}(),u=function(){var n=r((function*(n,e){return o.openSignMessage(n,e),new Promise((n,e)=>{o.onMsgSigned(e=>n(e.signature)),o.onMsgRejected(()=>{e({code:4001,message:"User rejected the request."})})})}));return function(e,t){return n.apply(this,arguments)}}(),c=function(){var n=r((function*(n){var e=n.to.toString(),t=n.value?n.value.toString():"0x",r=n.data?n.data.toString():"0x";return o.openSendTransaction(e,t,r),new Promise((n,e)=>{o.onTxnSent(e=>n(e.hash)),o.onTxnRejected(()=>{e({code:4001,message:"User rejected the request."})})})}));return function(e){return n.apply(this,arguments)}}();return()=>{return{label:"Ambire Wallet",getIcon:(p=r((function*(){return n.AmbireLogoSVG.default})),function(){return p.apply(this,arguments)}),getInterface:(t=r((function*(n){var t,p,d,h,f,l,g,v,m,y,S,{EventEmitter:_}=n,x=new _,I={eth_requestAccounts:(S=r((function*(){return i.length>0?Promise.resolve(i):s()})),function(){return S.apply(this,arguments)}),eth_selectAccounts:(y=r((function*(){return i.length>0?Promise.resolve(i):s()})),function(){return y.apply(this,arguments)}),eth_accounts:(m=r((function*(){return Promise.resolve(i)})),function(){return m.apply(this,arguments)}),eth_chainId:(v=r((function*(){return Promise.resolve(a)})),function(){return v.apply(this,arguments)}),personal_sign:(g=r((function*(n){var{params:[e,t]}=n;return u("personal_sign",e)})),function(n){return g.apply(this,arguments)}),eth_sign:(l=r((function*(n){var{params:[e,t]}=n;return u("eth_sign",t)})),function(n){return l.apply(this,arguments)}),eth_signTypedData:(f=r((function*(n){var{params:[e,t]}=n;return u("eth_signTypedData",t)})),function(n){return f.apply(this,arguments)}),eth_signTypedData_v4:(h=r((function*(n){var{params:[e,t]}=n;return u("eth_signTypedData_v4",t)})),function(n){return h.apply(this,arguments)}),eth_sendTransaction:(d=r((function*(n){var{params:[e]}=n,t=e.to.toString(),r=e.value.toString(),i=e.data?e.data.toString():"0x";return o.openSendTransaction(t,r,i),new Promise((n,e)=>{o.onTxnSent(e=>n(e.hash)),o.onTxnRejected(()=>{e({code:4001,message:"User rejected the request."})})})})),function(n){return d.apply(this,arguments)}),eth_sendTransaction:(p=r((function*(n){var{params:[e]}=n;return c(e)})),function(n){return p.apply(this,arguments)}),eth_signTransaction:(t=r((function*(n){var{params:[e]}=n;return c(e)})),function(n){return t.apply(this,arguments)})};return{provider:e.createEIP1193Provider({on:x.on.bind(x),disconnect:()=>{o.openLogout(),o.onLogoutSuccess(()=>{i=[]})}},I)}})),function(n){return t.apply(this,arguments)}),platforms:["all"]};var t,p}};
//# sourceMappingURL=login-sdk-web3-onboard.cjs.production.min.js.map
