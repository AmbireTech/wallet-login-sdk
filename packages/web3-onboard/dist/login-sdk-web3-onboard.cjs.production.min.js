"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=require("@ambire/login-sdk-core"),e=require("@web3-onboard/common");function t(n,e,t,r,o,i,a){try{var s=n[i](a),u=s.value}catch(n){return void t(n)}s.done?e(u):Promise.resolve(u).then(r,o)}function r(n){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=n.apply(e,r);function s(n){t(a,o,i,s,u,"next",n)}function u(n){t(a,o,i,s,u,"throw",n)}s(void 0)}))}}exports.AmbireWalletModule=function(t){var o,i=new n.AmbireLoginSDK(t),a=[],s=function(){var n=r((function*(n){var e;return void 0===n&&(n=null),n=null!=(e=n)?e:o,i.openLogin({chainId:parseInt(n)}),new Promise((n,e)=>{i.onLoginSuccess(e=>{a=[e.address],o="0x"+parseInt(e.chainId).toString(16),n(a)}),i.onAlreadyLoggedIn(e=>{a=[e.address],o="0x"+parseInt(e.chainId).toString(16),n(a)}),i.onRegistrationSuccess(e=>{a=[e.address],o="0x"+parseInt(e.chainId).toString(16),n(a)}),i.onActionRejected(n=>{a=[n.address],e({code:4001,message:"User rejected the request."})})})}));return function(e){return n.apply(this,arguments)}}(),u=function(){var n=r((function*(n,e){return i.openSignMessage(n,e),new Promise((n,e)=>{i.onMsgSigned(e=>n(e.signature)),i.onMsgRejected(()=>{e({code:4001,message:"User rejected the request."})})})}));return function(e,t){return n.apply(this,arguments)}}(),c=function(){var n=r((function*(n){var e=n.to.toString(),t=n.value?n.value.toString():"0x",r=n.data?n.data.toString():"0x";return i.openSendTransaction(e,t,r),new Promise((n,e)=>{i.onTxnSent(e=>n(e.hash)),i.onTxnRejected(()=>{e({code:4001,message:"User rejected the request."})})})}));return function(e){return n.apply(this,arguments)}}();return()=>{return{label:"Ambire Wallet",getIcon:(p=r((function*(){return n.AmbireLogoSVG.default})),function(){return p.apply(this,arguments)}),getInterface:(t=r((function*(n){var t,p,d,h,l,f,g,v,m,y,S,_,{EventEmitter:I}=n,x=new I,P={eth_requestAccounts:(_=r((function*(){return a.length>0?Promise.resolve(a):s()})),function(){return _.apply(this,arguments)}),eth_selectAccounts:(S=r((function*(){return a.length>0?Promise.resolve(a):s()})),function(){return S.apply(this,arguments)}),eth_accounts:(y=r((function*(){return Promise.resolve(a)})),function(){return y.apply(this,arguments)}),eth_chainId:(m=r((function*(){return Promise.resolve(o)})),function(){return m.apply(this,arguments)}),personal_sign:(v=r((function*(n){var{params:[e,t]}=n;return u("personal_sign",e)})),function(n){return v.apply(this,arguments)}),eth_sign:(g=r((function*(n){var{params:[e,t]}=n;return u("eth_sign",t)})),function(n){return g.apply(this,arguments)}),eth_signTypedData:(f=r((function*(n){var{params:[e,t]}=n;return u("eth_signTypedData",t)})),function(n){return f.apply(this,arguments)}),eth_signTypedData_v4:(l=r((function*(n){var{params:[e,t]}=n;return u("eth_signTypedData_v4",t)})),function(n){return l.apply(this,arguments)}),eth_sendTransaction:(h=r((function*(n){var{params:[e]}=n,t=e.to.toString(),r=e.value.toString(),o=e.data?e.data.toString():"0x";return i.openSendTransaction(t,r,o),new Promise((n,e)=>{i.onTxnSent(e=>n(e.hash)),i.onTxnRejected(()=>{e({code:4001,message:"User rejected the request."})})})})),function(n){return h.apply(this,arguments)}),eth_sendTransaction:(d=r((function*(n){var{params:[e]}=n;return c(e)})),function(n){return d.apply(this,arguments)}),eth_signTransaction:(p=r((function*(n){var{params:[e]}=n;return c(e)})),function(n){return p.apply(this,arguments)}),wallet_switchEthereumChain:(t=r((function*(n){var{params:[e]}=n;return s(e.chainId)})),function(n){return t.apply(this,arguments)})};return{provider:e.createEIP1193Provider({on:x.on.bind(x),disconnect:()=>{i.openLogout(),i.onLogoutSuccess(()=>{a=[]})}},P)}})),function(n){return t.apply(this,arguments)}),platforms:["all"]};var t,p}};
//# sourceMappingURL=login-sdk-web3-onboard.cjs.production.min.js.map
